import{S as s,i as a,s as e,e as t,t as n,k as r,c,a as o,g as l,d as i,n as u,b as h,f as d,D as p,T as f,H as m,I as v,E as g,X as w,Y as x,j as b,m as y,o as I,v as $,r as E,w as D,L as j,F as k,a9 as S,P as T}from"../../chunks/vendor-ce82561a.js";import{g as V}from"../../chunks/navigation-20968cc5.js";import{s as P}from"../../chunks/stores-62b324a6.js";import"../../chunks/singletons-bb9012b7.js";function A(s){let a,e,x,b,y,I,$,E,D,j,k,S,T,V,P,A,N,R,U,F,H;return{c(){a=t("div"),e=t("div"),x=t("h3"),b=n("Sign In"),y=r(),I=t("form"),$=t("div"),E=t("input"),D=r(),j=t("div"),k=t("input"),S=r(),T=t("button"),V=n("Sign In"),P=r(),A=t("p"),N=n("Don't have an account? "),R=t("a"),U=n("Register"),this.h()},l(s){a=c(s,"DIV",{class:!0});var t=o(a);e=c(t,"DIV",{class:!0});var n=o(e);x=c(n,"H3",{class:!0});var r=o(x);b=l(r,"Sign In"),r.forEach(i),y=u(n),I=c(n,"FORM",{});var h=o(I);$=c(h,"DIV",{class:!0});var d=o($);E=c(d,"INPUT",{type:!0,placeholder:!0,class:!0}),d.forEach(i),D=u(h),j=c(h,"DIV",{class:!0});var p=o(j);k=c(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(i),S=u(h),T=c(h,"BUTTON",{type:!0,class:!0});var f=o(T);V=l(f,"Sign In"),f.forEach(i),h.forEach(i),P=u(n),A=c(n,"P",{class:!0});var m=o(A);N=l(m,"Don't have an account? "),R=c(m,"A",{href:!0,class:!0});var v=o(R);U=l(v,"Register"),v.forEach(i),m.forEach(i),n.forEach(i),t.forEach(i),this.h()},h(){h(x,"class","svelte-1x396nc"),h(E,"type","email"),h(E,"placeholder","Add your email"),h(E,"class","svelte-1x396nc"),h($,"class","mb-4"),h(k,"type","password"),h(k,"placeholder","Add a password"),h(k,"class","svelte-1x396nc"),h(j,"class","mb-4"),h(T,"type","submit"),h(T,"class","focus:outline-none svelte-1x396nc"),h(R,"href","register"),h(R,"class","form_link svelte-1x396nc"),h(A,"class","svelte-1x396nc"),h(e,"class","form_container px-10 py-10 rounded-xl svelte-1x396nc"),h(a,"class","w-full max-w-sm mx-auto mb-20")},m(t,n){d(t,a,n),p(a,e),p(e,x),p(x,b),p(e,y),p(e,I),p(I,$),p($,E),f(E,s[0]),p(I,D),p(I,j),p(j,k),f(k,s[1]),p(I,S),p(I,T),p(T,V),p(e,P),p(e,A),p(A,N),p(A,R),p(R,U),F||(H=[m(E,"input",s[3]),m(k,"input",s[4]),m(I,"submit",v(s[5]))],F=!0)},p(s,[a]){1&a&&E.value!==s[0]&&f(E,s[0]),2&a&&k.value!==s[1]&&f(k,s[1])},i:g,o:g,d(s){s&&i(a),F=!1,w(H)}}}function N(s,a,e){const t=x();let{email:n}=a,{password:r}=a;return s.$$set=s=>{"email"in s&&e(0,n=s.email),"password"in s&&e(1,r=s.password)},[n,r,t,function(){n=this.value,e(0,n)},function(){r=this.value,e(1,r)},()=>t("login",{email:n,password:r})]}class R extends s{constructor(s){super(),a(this,s,N,A,e,{email:0,password:1})}}function U(s){let a,e,n;return e=new R({props:{email:s[0],password:s[1]}}),e.$on("login",s[2]),{c(){a=t("div"),b(e.$$.fragment),this.h()},l(s){a=c(s,"DIV",{class:!0});var t=o(a);y(e.$$.fragment,t),t.forEach(i),this.h()},h(){h(a,"class","page w-full h-screen flex justify-center items-center svelte-1gu0xuj")},m(s,t){d(s,a,t),I(e,a,null),n=!0},p(s,[a]){const t={};1&a&&(t.email=s[0]),2&a&&(t.password=s[1]),e.$set(t)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){E(e.$$.fragment,s),n=!1},d(s){s&&i(a),D(e)}}}async function F({session:s}){const{user:a}=s;return a?{status:302,redirect:"/dashboard"}:{}}function H(s,a,e){let t;j(s,P,(s=>e(3,t=s)));let n,r="";return[n,r,async function(s){s.preventDefault(),e(0,n=s.detail.email),e(1,r=s.detail.password);try{const s=await k();await S(s,n,r).then((s=>{T(P,t.user=s.user.uid,t),V("dashboard")}))}catch(a){a.code,a.message}}]}export default class extends s{constructor(s){super(),a(this,s,H,U,e,{})}}export{F as load};
